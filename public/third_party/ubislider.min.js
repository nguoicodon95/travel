$.fn.ubislider=function(a){return UbiSlider.init(this,a)},$.fn.destroyUbislider=function(a){return UbiSlider.destroy(this)},$.fn.reloadUbislider=function(a){return UbiSlider.reload(this,a)};var UbiSlider={init:function(a,b){var c=this,d=$.extend({item:a,arrowsToggle:!1,type:"standard",hideArrows:!1,autoSlideOnLastClick:!1,modalOnClick:!1,position:"horizontal",activeClass:!1,bullets:!1,onTopImageChange:function(){}},b),e=d.item.width();d.item.addClass(d.type);var f=function(){var a=d.item.width(),b=d.item.find(".ubislider-inner li").width(),c=Math.round(a/b/2)-1;d.item.find(".ubislider-inner li").eq(c).addClass("active")},g=function(a){var b=d.item.attr("id");if(a)var c=a.find("img").attr("src"),e=a.index();else var c=d.item.find(".ubislider-inner li").eq(0).find("img").attr("src"),e=0;var f=new Image;f.src=c,$("[data-ubislider=#"+b+"]").attr("data-image",e),$("[data-ubislider=#"+b+"]").html(f),d.onTopImageChange()},h=function(){d.item.find(".ubislider-inner li").on("click",function(){g($(this))})},i=function(a){$("body").addClass("ubi-overflow");var b=a.attr("data-image"),c="<div class='ubiModal'><span class='ubi-close'><i class='fa fa-times' aria-hidden='true'></i></span><div class='ubi-arrows left'><i class='fa fa-angle-left' aria-hidden='true'></i></div><div class='ubi-arrows right'><i class='fa fa-angle-right' aria-hidden='true'></i></div><div class='ubi-main-image' data-slide='"+b+"'><ul class='ubi-main-slide'>"+d.item.find(".ubislider-inner").html()+"</ul></div><ul class='ubi-thumbs'>"+d.item.find(".ubislider-inner").html();$("body").append(c);var e="-"+$(".ubi-main-image").width()*b+"px";$(".ubi-main-slide").width($(".ubi-main-image").width()*$(".ubi-main-slide li").length),$(".ubi-main-slide").css("left",e),$(".ubi-main-slide li").width($(".ubi-main-image").width())},j=function(a){var b=a.index(),c="-"+$(".ubi-main-image").width()*b+"px";$(".ubi-main-image").attr("data-slide",b),$(".ubi-main-slide").width($(".ubi-main-image").width()*$(".ubi-main-slide li").length),$(".ubi-main-slide").css("left",c)},k=function(a){var b=$(".ubi-main-image").attr("data-slide");switch(a){case"left":b>0&&(b=parseInt(b)-1);var c="-"+$(".ubi-main-image").width()*b+"px";break;case"right":b<$(".ubi-main-slide li").length-1&&(b=parseInt(b)+1);var c="-"+$(".ubi-main-image").width()*b+"px"}$(".ubi-main-image").attr("data-slide",b),$(".ubi-main-slide").width($(".ubi-main-image").width()*$(".ubi-main-slide li").length),$(".ubi-main-slide").css("left",c)},l=function(){var a=d.item.attr("id");$("[data-ubislider=#"+a+"]").bind("click",function(){i($(this)),m()})},m=function(){$(".ubiModal").bind("click",function(){$(".ubiModal").remove(),$("body").removeClass("ubi-overflow")}),$(".ubi-close").bind("click",function(){$(".ubiModal").remove(),$("body").removeClass("ubi-overflow")}),$(".ubiModal .ubi-main-image img").bind("click",function(a){a.stopPropagation()}),$(".ubi-arrows.left").bind("click",function(a){a.stopPropagation(),k("left")}),$(".ubi-arrows.right").bind("click",function(a){a.stopPropagation(),k("right")}),$(".ubi-thumbs li").bind("click",function(a){a.stopPropagation(),j($(this))})},n=function(a){if("vertical"==a){var b=d.item.find(".ubislider-inner li").outerWidth(!0)*d.item.find("li").length;d.item.attr("data-slideTime",0),d.item.find(".ubislider-inner").width("auto"),d.item.find(".ubislider-inner").height(b)}else{var c=d.item.find(".ubislider-inner li").outerWidth(!0)*d.item.find("li").length;d.item.attr("data-slideTime",0),d.item.find(".ubislider-inner").width(c)}},o=function(){d.item.find(".arrow").hide()},p=function(){for(var a=d.item.find(".ubislider-inner li").length,b="<ul class='ubislider-bullets'>",c=1;c<=a;c++){if(1==c)var e="<li class='active'></li>";else var e="<li></li>";b+=e}b+="</ul>",d.item.append(b)},q=function(){d.item.find(".ubislider-bullets li").bind("click",function(){r($(this))})},r=function(a){a.siblings().removeClass("active"),a.addClass("active");var b=a.index(),c="-"+a.closest(".ubislider").find(".ubislider-inner li").outerWidth(!0)*b+"px";a.closest(".ubislider").attr("data-slidetime",b),a.closest(".ubislider").find(".ubislider-inner").css("left",c)};switch(d.type){case"standard":d.item.find("li").width(e);break;case"thumb":break;case"ecommerce":g(),h()}switch(d.modalOnClick){case!0:l();case!1:}switch(d.option){case"bottom":l();break;case"aside":}switch(d.position){case"vertical":n(d.position);break;default:n(d.position)}switch(d.activeClass){case!0:f()}switch(d.hideArrows){case!0:o()}switch(d.bullets){case!0:p(),q()}c.events(d.item,d,d.position)},events:function(a,b,c){var d=this;a.find(".arrow").bind("click",function(){d.slider_arrow_function($(this),a,b)}),b.autoSlideOnLastClick&&a.find(".ubislider-inner li").bind("click",function(){switch(c){case"horizontal":d.slideToLeftOrRight($(this),b);break;case"vertical":d.slideToTopOrBottom($(this),b);break;default:d.slideToLeftOrRight($(this),b)}})},slideToLeftOrRight:function(a,b){var c=parseInt(b.item.attr("data-slideTime")),d=b.item.find("li").outerWidth(!0)*c,e=Math.round(b.item.outerWidth(!0)/b.item.find("li").outerWidth(!0)),f=b.item.find("li").length-1,g=b.item.find("li").length-e,h=Math.round((d+b.item.outerWidth(!0))/b.item.find("li").outerWidth(!0))-1,i=Math.round((d+b.item.outerWidth(!0))/b.item.find("li").outerWidth(!0))-e;0==d&&0==a.closest("li").index()?(b.item.attr("data-slideTime",g),b.item.find(".ubislider-inner").css("left","-"+b.item.find("li").outerWidth(!0)*g+"px")):d==g*b.item.find("li").outerWidth(!0)&&a.closest("li").index()==f?(b.item.attr("data-slideTime","0"),b.item.find(".ubislider-inner").css("left","0px")):a.closest("li").index()==h?(c++,b.item.attr("data-slideTime",c),b.item.find(".ubislider-inner").css("left","-"+b.item.find("li").outerWidth(!0)*c+"px")):a.closest("li").index()==i&&(c--,b.item.attr("data-slideTime",c),b.item.find(".ubislider-inner").css("left","-"+b.item.find("li").outerWidth(!0)*c+"px"))},slideToTopOrBottom:function(a,b){var c=parseInt(b.item.attr("data-slideTime")),d=b.item.find("li").outerHeight(!0)*c,e=Math.round(b.item.outerHeight(!0)/b.item.find("li").outerHeight(!0)),f=b.item.find("li").length-1,g=b.item.find("li").length-e,h=Math.round((d+b.item.outerHeight(!0))/b.item.find("li").outerHeight(!0))-1,i=Math.round((d+b.item.outerHeight(!0))/b.item.find("li").outerHeight(!0))-e;0==d&&0==a.closest("li").index()?(b.item.attr("data-slideTime",g),b.item.find(".ubislider-inner").css("top","-"+b.item.find("li").outerHeight(!0)*g+"px")):d==g*b.item.find("li").outerHeight(!0)&&a.closest("li").index()==f?(b.item.attr("data-slideTime","0"),b.item.find(".ubislider-inner").css("top","0px")):a.closest("li").index()==h?(c++,b.item.attr("data-slideTime",c),b.item.find(".ubislider-inner").css("top","-"+b.item.find("li").outerHeight(!0)*c+"px")):a.closest("li").index()==i&&(c--,b.item.attr("data-slideTime",c),b.item.find(".ubislider-inner").css("top","-"+b.item.find("li").outerHeight(!0)*c+"px"))},slider_arrow_function:function(a,b,c){var d=this,e=function(a){var d=parseInt(b.attr("data-slideTime"));c.item.find(".ubislider-bullets li").removeClass("active"),c.item.find(".ubislider-bullets li").eq(d).addClass("active")};switch(a.hasClass("prev")?d.slider_prev(b,c):d.slider_next(b,c),c.bullets){case!0:e()}},slider_prev:function(a,b){slideTime=parseInt(a.attr("data-slideTime")),0!=slideTime&&(a.find(".ubislider-inner li").each(function(a,b){if($(this).hasClass("active"))return $(this).prev().addClass("active"),$(this).removeClass("active"),!1}),slideTime--,a.attr("data-slideTime",slideTime),a.find(".ubislider-inner").css("left","-"+a.find(".ubislider-inner li").outerWidth(!0)*slideTime+"px"))},slider_next:function(a,b){var d=a.outerWidth(!0),e=a.find(".ubislider-inner li").outerWidth(!0),f=d/e,g=!1,h=a.find(".ubislider-inner li").length-Math.round(f);if(slideTime=parseInt(a.attr("data-slideTime")),slideTime<h){if(a.find("li").each(function(a,b){if($(this).hasClass("active"))return $(this).next().addClass("active"),$(this).removeClass("active"),!1}),slideTime++,a.attr("data-slideTime",slideTime),g&&h-slideTime==0)var i=a.find(".ubislider-inner li").outerWidth(!0)*g,j=i-d+a.find(".ubislider-inner li").outerWidth(!0)*(slideTime-1);else var j=a.find(".ubislider-inner li").outerWidth(!0)*slideTime;a.find(".ubislider-inner").css("left","-"+j+"px")}},destroy:function(a){$("[data-ubislider=#"+a.attr("id")+"]").unbind("click"),a.find(".arrow").unbind("click"),a.find("li").unbind("click"),a.find(".ubislider-inner").removeAttr("style"),a.find("li").removeAttr("style"),a.removeAttr("data-slideTime")},reload:function(a,b){var c=this;c.destroy(a),c.init(a,b)}};